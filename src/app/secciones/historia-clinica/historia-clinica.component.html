<app-navbar></app-navbar>
<div class="btnPDF">
    Descargar: 
    <button mat-button color="warn" (click)="ImprimirPDF()">PDF</button>
</div>

<div *ngIf="usuario; else loading" class="container canvas_div_pdf" id="historiaClinica">
    <img src="../../../favicon.ico" class="icono">
    <div >
        <h3 ><p class="text-muted">Clinica Online</p></h3> 
        <h4>Historia Clinica: {{usuario.apellido}} {{usuario.nombre}}</h4>
        <p class="text-muted">{{now | date:'dd/MM/yyyy' }}</p>
        <div >
            <img [src]=imagen class="circular--portrait">
        </div>        
        
        <div *ngIf="listadoHistoriaClinica" >
            <ul class="list-group mb-3 card-body overflow-auto trasparente">
                <li class="list-group-item d-flex justify-content-between lh-condensed elegido trasparente" *ngFor="let historiaClinica of listadoFinal">            
                    <mat-card >Turno: {{historiaClinica.turno.dia.toMillis() | date:'dd/MM/yyyy hh:mm a' }}</mat-card>
                    <mat-card > Dr/a.: {{historiaClinica.turno.medico.apellido}} {{historiaClinica.turno.medico.nombre}}</mat-card>
                    <mat-card >Especialidad: {{historiaClinica.turno.especialidad}}</mat-card>
                    <mat-card >Rese√±a Medica: {{historiaClinica.turno.comentarioMedico}}</mat-card>
                    <mat-card ><strong>Altura:</strong>  {{historiaClinica.altura}}<br> <strong>Peso:</strong> {{historiaClinica.peso}} <br> <strong>Temperatura:</strong> {{historiaClinica.temperatura}} <br><strong>Presion:</strong> {{historiaClinica.presion}} </mat-card>
                    <mat-card >Otros: {{historiaClinica.clave1}}: {{historiaClinica.valor1}}. {{historiaClinica.clave2}}: {{historiaClinica.valor2}}. {{historiaClinica.clave3}}: {{historiaClinica.valor3}}.</mat-card>
                </li>
            </ul>
        </div>        
    </div>
</div>

<ng-template #loading>
    <app-loading></app-loading>
  </ng-template>